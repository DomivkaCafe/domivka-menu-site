(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{596:(e,t,s)=>{Promise.resolve().then(s.bind(s,4759))},4759:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>y});var l=s(5155),a=s(6793),i=s.n(a),r=s(2115);let n=(e,t,s,l)=>{switch(e){case"en":default:return t;case"pl":return s;case"ua":return l}},c=async e=>{let t=await fetch("https://k670.github.io/domivka-menu-site/text/categories.json"),s=await t.json(),l=[],a=[...Array(s.length).keys()].map(e=>s[e]).filter(e=>e.id&&e.name).map(t=>{var s;let a=t.dishes&&t.dishes.length>0?[...Array(t.dishes.length).keys()].map(e=>t.dishes[e]).map(t=>{let s={id:t.id,title:t.title[e],excerpt:t.excerpt[e],price:t.price};return l=[...l,s],s}):[];return{id:t.id,title:null!==(s=t.name[e])&&void 0!==s?s:t.name.en,link:"/?category=".concat(t.id,"&&lang=").concat(e),dishes:a}});return console.log("cats",a),[{title:n(e,"All","Wszystko","Все"),link:"/?category=all&&lang=".concat(e),id:"all",dishes:l},...a]};var d=s(1085),o=s(6799),m=s(6848);let h=e=>{let{onClick:t,className:s,children:a}=e;return(0,l.jsx)("button",{type:"button",onClick:()=>{t()},className:"px-4 py-2 bg-transparent text-amber-100 rounded-md ".concat(s),children:a})},x=e=>{let{setLanguage:t,language:s}=e,[a,i]=(0,r.useState)(!1);return(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsxs)(h,{onClick:()=>{i(!a)},className:"flex items-center hover:opacity-75",children:[(0,l.jsx)(m.A,{className:"w-5 h-5 mr-2"})," ",s.toUpperCase()]}),a&&(0,l.jsx)("ul",{className:"absolute right-0 mt-2 bg-amber-100 border rounded-md shadow-md",children:[{name:"Polish",code:"pl"},{name:"Ukrainian",code:"ua"},{name:"English",code:"en"}].map(e=>(0,l.jsx)("li",{className:"px-4 py-2 cursor-pointer hover:bg-amber-50 text-gray-700",onClick:()=>{t(e.code),i(!1)},children:e.name},e.code))})]})},u=()=>(0,l.jsx)("div",{className:" ml-4 sm:ml-0 pl-0 sm:pl-8",children:(0,l.jsx)("div",{className:"flex",children:(0,l.jsx)("img",{src:"https://k670.github.io/domivka-menu-site/photo/logo.jpg",className:"h-16 mr-2"})})}),p=e=>{let{href:t,children:s}=e;return(0,l.jsx)("a",{href:t,target:"_blank",className:"px-2 py-2 bg-transparent text-amber-100 rounded-md",children:s})},g=e=>{let{setLanguage:t,language:s}=e;return(0,l.jsxs)("header",{className:"fixed top-0 left-0 w-full bg-red-900 shadow-md p-2 flex flex-col sm:flex-row items-center justify-between z-50 min-h-20",children:[(0,l.jsx)(u,{title:"Domivka"}),(0,l.jsxs)("div",{className:"relative flex",children:[(0,l.jsx)(p,{href:"https://www.instagram.com/domivka_kolobrzeg/",children:(0,l.jsx)(d.A,{className:"w-6 h-6"})}),(0,l.jsx)(p,{href:"https://www.facebook.com/profile.php?id=61569193082567",children:(0,l.jsx)(o.A,{className:"w-6 h-6"})}),(0,l.jsx)(x,{language:s,setLanguage:t})]})]})};function j(e){let{language:t,setLanguage:s,setCategory:a,menuCategoriesNames:i}=e;return(0,l.jsxs)("div",{className:"flex flex-col min-h-screen ",children:[(0,l.jsx)(g,{language:t,setLanguage:s}),(0,l.jsx)("div",{className:"w-full p-4 pt-16 flex justify-center mt-40",children:(0,l.jsx)("h2",{className:"text-7xl font-bold ",children:n(t,"Menu","Menu","Меню")})}),(0,l.jsx)("nav",{className:"w-full p-4 block sm:flex justify-center",children:null==i?void 0:i.map((e,t)=>(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("button",{className:"mx-2 py-2 px-4 cursor-pointer hover:text-gray-400 inline-block sm:inline border-b border-black bg-red-900 rounded-3xl",onClick:()=>{a(e.id)},children:e.title},t)}))}),(0,l.jsx)("main",{className:"mt-24 p-4",children:e.children})]})}let f=e=>{let{menuCategories:t,setProductId:s}=e;return(0,l.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-3 md:grid-cols-5 gap-4 ",children:t.map((e,t)=>(0,l.jsx)("button",{onClick:()=>{s(e.id)},children:(0,l.jsxs)("div",{className:"hover:opacity-50 p-4",children:[(0,l.jsx)("img",{src:"https://k670.github.io/domivka-menu-site/photo/".concat(e.id,"/1.jpg"),alt:e.title,className:"w-full h-64 object-cover mb-2"}),(0,l.jsx)("h2",{className:"text-lg font-bold",children:e.title}),(0,l.jsx)("p",{className:"text-gray-400",children:"".concat(e.price," zl")})]},t)},e.id))})};var v=s(3628),b=s(1210);s(2252),s(5303),s(6970),s(9408);let N=e=>{let[t,s]=(0,r.useState)([]),a=async e=>{try{return(await fetch(e,{method:"HEAD"})).ok}catch(e){return console.log(e),!1}},i=t=>{let l="https://k670.github.io/domivka-menu-site/photo/".concat(e.productId,"/").concat(t,".jpg");a(l).then(e=>{e?(console.log("Image exists"),s(e=>[...e,l])):console.log("Image does not exist")})};return(0,r.useEffect)(()=>{i("1"),i("2"),i("3")},[]),(0,l.jsx)("div",{className:"App",children:(0,l.jsx)(v.RC,{modules:[b.Vx,b.dK,b.t9],navigation:!0,pagination:{clickable:!0},effect:"coverflow",coverflowEffect:{rotate:0,depth:10,slideShadows:!0},slidesPerView:1,centeredSlides:!0,children:[...new Set(t)].sort().map(t=>(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(v.qr,{children:(0,l.jsx)("img",{src:t,alt:e.title})})}))})})},k=e=>{var t;let{productId:s,menuCategoriesNames:a}=e,i=null!==(t=a[0].dishes)&&void 0!==t?t:[];return(0,l.jsx)(l.Fragment,{children:i.filter(e=>e.id===s).map((e,t)=>(0,l.jsx)("div",{className:"place-items-center",children:(0,l.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-8 sm:gap-4  w-3/4",children:[(0,l.jsx)("div",{children:(0,l.jsx)(N,{productId:e.id,title:e.title})}),(0,l.jsxs)("div",{className:"m-16",children:[(0,l.jsx)("h2",{className:"text-5xl font-bold ",children:e.title}),(0,l.jsx)("h2",{className:"text-xl pt-8",children:"".concat(e.price," zl")}),(0,l.jsx)("p",{className:"text-gray-400 pt-2 ",children:e.excerpt})]})]})},t))})},w=()=>{var e,t;let[s,a]=(0,r.useState)("pl"),[i,n]=(0,r.useState)(void 0),[d,o]=(0,r.useState)("all"),[m,h]=(0,r.useState)([]);(0,r.useEffect)(()=>{!async function(){h(await c(s))}()},[s]);let x=null!==(t=null===(e=m.find(e=>e.id===d))||void 0===e?void 0:e.dishes)&&void 0!==t?t:[];return(0,l.jsxs)(j,{menuCategoriesNames:m,language:s,setLanguage:a,setCategory:e=>{o(e),n(void 0)},children:[(e=>void 0!=e&&null!=e&&""!=e)(i)&&(0,l.jsx)(k,{menuCategoriesNames:m,productId:null!=i?i:""}),(e=>void 0!=e&&null!=e&&""!=e)(d)&&(0,l.jsx)(f,{menuCategories:x,setProductId:e=>{n(e),o(void 0)}})]})};function y(){return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(i(),{children:(0,l.jsx)("link",{rel:"icon",href:"https://k670.github.io/domivka-menu-site/favicon.ico",type:"image/x-icon",sizes:"256x219"})}),(0,l.jsx)(w,{test:""})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[798,196,441,517,358],()=>t(596)),_N_E=e.O()}]);